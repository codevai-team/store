# Исправление ошибки деплоя на Timeweb

## Проблема
```
ERROR | Deploy error
Found ports for service nginx: ('0.0.0.0', 80)
```

## Решение 1: Упрощенная версия (рекомендуется)

Используйте файл `docker-compose.simple.yml` вместо `docker-compose.yml`:

1. Переименуйте текущий `docker-compose.yml` в `docker-compose.nginx.yml`
2. Переименуйте `docker-compose.simple.yml` в `docker-compose.yml`
3. Запустите деплой

После успешного деплоя у вас будут доступны:
- Админка: `ваш-домен.com:3000`
- Клиент: `ваш-домен.com:3001`

## Решение 2: Настройка поддоменов через Timeweb

Если хотите использовать поддомены, настройте их в панели Timeweb:

1. **В панели Timeweb**:
   - Добавьте основной домен
   - Добавьте поддомен `admin` для админки
   - Настройте перенаправление портов:
     - `admin.ваш-домен.com` → порт 3000
     - `ваш-домен.com` → порт 3001

2. **Используйте простую версию** (`docker-compose.simple.yml`)

## Решение 3: Исправление nginx конфигурации

Если хотите использовать nginx, попробуйте:

1. Убедитесь, что все файлы nginx корректны
2. Проверьте права доступа к файлам
3. Используйте более простую nginx конфигурацию

## Рекомендуемый порядок действий

1. **Сначала** попробуйте `docker-compose.simple.yml`
2. **После успешного деплоя** настройте поддомены в Timeweb
3. **При необходимости** вернитесь к nginx версии

## Проверка деплоя

После деплоя проверьте:
- Доступность админки: `http://ваш-домен.com:3000`
- Доступность клиента: `http://ваш-домен.com:3001`
- Логи в панели Timeweb

## Переменные окружения

Убедитесь, что в `.env` правильно настроены:
```env
DOMAIN="ваш-домен.com"
ADMIN_DOMAIN="admin.ваш-домен.com"
```
